<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Snowflake Study Guide — Snowpark-optimized warehouses</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,400;0,8..60,600;1,8..60,400&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../css/styles.css" />
</head>
<body data-guide-id="snowpark-optimized">
  <a href="#main" class="skip-link">Skip to content</a>

  <header class="site-header">
    <div class="header-inner">
      <a href="../index.html" class="logo">❄️ Snowflake Learn</a>
      <nav class="topic-nav" aria-label="Study topics">
        <a href="../index.html">Home</a>
        <a href="index.html">Virtual Warehouse</a>
      </nav>
      <button type="button" class="nav-toggle" aria-label="Open menu" aria-expanded="false">
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
      </button>
    </div>
  </header>

  <div class="layout">
    <aside class="sidebar" id="sidebar" aria-label="Study guide navigation">
      <details class="sidebar-group" open>
        <summary>Guides — 01-virtual-warehouse</summary>
        <div class="sidebar-group-content">
          <ul class="guide-list chapter-list">
            <li><a href="index.html">Category index</a></li>
            <li><a href="overview.html">Overview</a><span class="sidebar-doc">00-overview.md</span></li>
            <li><a href="multi-cluster.html">Multi-cluster</a><span class="sidebar-doc">01-multi-cluster.md</span></li>
            <li><a href="considerations.html">Considerations</a><span class="sidebar-doc">02-considerations.md</span></li>
            <li><a href="working-with-warehouses.html">Working with</a><span class="sidebar-doc">03-working-with-warehouses.md</span></li>
            <li><a href="next-gen-warehouses.html">Gen2</a><span class="sidebar-doc">04-next-gen-standard-warehouses.md</span></li>
            <li><a href="query-acceleration.html">Query Acceleration (QAS)</a><span class="sidebar-doc">05-query-acceleration.md</span></li>
            <li><a href="monitoring-load.html">Monitoring load</a><span class="sidebar-doc">06-monitoring-load.md</span></li>
            <li><a href="snowpark-optimized-warehouses.html" class="is-active">Snowpark-optimized</a><span class="sidebar-doc">07-snowpark-optimized-warehouses.md</span></li>
            <li><a href="interactive-tables.html">Interactive tables</a><span class="sidebar-doc">08-interactive-tables.md</span></li>
            <li><a href="example-workflow-equity-research.html">Example workflow</a><span class="sidebar-doc">09-example-workflow-equity-research.md</span></li>
          </ul>
        </div>
      </details>
      <details class="sidebar-group" open>
        <summary>In this guide</summary>
        <div class="sidebar-group-content">
          <ul class="chapter-list">
            <li><a href="#intro" class="nav-link" data-section="intro">Introduction</a></li>
            <li><a href="#when-to-use" class="nav-link" data-section="when-to-use">When to use</a></li>
            <li><a href="#configuration" class="nav-link" data-section="configuration">Configuration options</a></li>
            <li><a href="#creating" class="nav-link" data-section="creating">Creating</a></li>
            <li><a href="#modifying" class="nav-link" data-section="modifying">Modifying properties</a></li>
            <li><a href="#billing" class="nav-link" data-section="billing">Billing</a></li>
            <li><a href="#regions" class="nav-link" data-section="regions">Region availability</a></li>
          </ul>
        </div>
      </details>
      <div class="sidebar-footer">
        <p class="progress-label">Your progress</p>
        <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="7" aria-label="Sections completed">
          <div class="progress-fill" id="progress-fill"></div>
        </div>
        <p class="progress-count" id="progress-count">0/7 sections</p>
      </div>
    </aside>

    <main id="main" class="content">
      <article class="guide">
        <p class="breadcrumb"><a href="../index.html">Home</a> <span>›</span> <a href="index.html">Virtual Warehouse</a> <span>›</span> Snowpark-optimized</p>
        <div class="guide-header">
          <h1>Snowpark-optimized warehouses</h1>
          <p class="lead">Snowpark-optimized warehouses let you configure memory resources and CPU architecture on a single-node instance for Snowpark and ML workloads.</p>
        </div>

        <section id="intro" class="section" data-section="intro">
          <h2>Introduction</h2>
          <p>Snowpark-optimized warehouses let you configure the available memory resources and CPU architecture on a single-node instance for your workloads.</p>
          <label class="section-done">
            <input type="checkbox" name="done" value="intro" aria-label="Mark Introduction as complete" />
            <span>I've read this</span>
          </label>
        </section>

        <section id="when-to-use" class="section" data-section="when-to-use">
          <h2>When to use a Snowpark-optimized warehouse</h2>
          <p>Snowpark workloads can run on both standard and Snowpark-optimized warehouses. Snowpark-optimized warehouses are recommended for Snowpark workloads that have large memory requirements or depend on a specific CPU architecture. Example workloads include:</p>
          <ul>
            <li>Machine Learning (ML) training using a stored procedure on a single virtual warehouse node</li>
            <li>Snowpark workloads using UDFs or UDTFs, which may also benefit from Snowpark-optimized warehouses</li>
          </ul>
          <p>Workloads that don't use Snowpark typically don't benefit from running on Snowpark-optimized warehouses.</p>
          <div class="callout note">
            <p><strong>Note:</strong> Initial creation and resumption of a Snowpark-optimized virtual warehouse might take longer than standard warehouses.</p>
          </div>
          <label class="section-done">
            <input type="checkbox" name="done" value="when-to-use" aria-label="Mark When to use as complete" />
            <span>I've read this</span>
          </label>
        </section>

        <section id="configuration" class="section" data-section="configuration">
          <h2>Configuration options for Snowpark-optimized warehouses</h2>
          <div class="callout note">
            <p><strong>Preview:</strong> The 1 TB resource constraints (<code>MEMORY_64X</code> and <code>MEMORY_64X_x86</code>) are available as a preview feature and only on AWS. All other <code>MEMORY_*</code> sizes are generally available on all cloud platforms.</p>
          </div>
          <p>The default configuration provides 16x memory per node compared to a standard warehouse. You can optionally configure additional memory per node and specify CPU architecture using the <code>RESOURCE_CONSTRAINT</code> property in <code>CREATE WAREHOUSE</code> or <code>ALTER WAREHOUSE</code>. Options:</p>
          <table>
            <thead>
              <tr>
                <th>Memory (up to)</th>
                <th>CPU architecture</th>
                <th>RESOURCE_CONSTRAINT values</th>
                <th>Minimum warehouse size</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>16 GB</td>
                <td>Default or x86</td>
                <td><code>MEMORY_1X</code>, <code>MEMORY_1X_x86</code></td>
                <td>XSMALL</td>
              </tr>
              <tr>
                <td>256 GB</td>
                <td>Default or x86</td>
                <td><code>MEMORY_16X</code>, <code>MEMORY_16X_x86</code></td>
                <td>M</td>
              </tr>
              <tr>
                <td>1 TB</td>
                <td>Default or x86</td>
                <td><code>MEMORY_64X</code>, <code>MEMORY_64X_x86</code></td>
                <td>L</td>
              </tr>
            </tbody>
          </table>
          <label class="section-done">
            <input type="checkbox" name="done" value="configuration" aria-label="Mark Configuration options as complete" />
            <span>I've read this</span>
          </label>
        </section>

        <section id="creating" class="section" data-section="creating">
          <h2>Creating a Snowpark-optimized warehouse</h2>
          <p>Set the <code>WAREHOUSE_TYPE</code> property to <code>'SNOWPARK-OPTIMIZED'</code> when running <code>CREATE WAREHOUSE</code>. For example:</p>
          <pre><code>CREATE OR REPLACE WAREHOUSE snowpark_opt_wh WITH
  WAREHOUSE_SIZE = 'MEDIUM'
  WAREHOUSE_TYPE = 'SNOWPARK-OPTIMIZED';</code></pre>
          <p>Create a large Snowpark-optimized warehouse with 256 GB of memory by specifying <code>RESOURCE_CONSTRAINT = 'MEMORY_16X_X86'</code>:</p>
          <pre><code>CREATE WAREHOUSE so_warehouse WITH
  WAREHOUSE_SIZE = 'LARGE'
  WAREHOUSE_TYPE = 'SNOWPARK-OPTIMIZED'
  RESOURCE_CONSTRAINT = 'MEMORY_16X_X86';</code></pre>
          <div class="callout note">
            <p><strong>Note:</strong> The default resource constraint is <code>MEMORY_16X</code>.</p>
          </div>
          <label class="section-done">
            <input type="checkbox" name="done" value="creating" aria-label="Mark Creating as complete" />
            <span>I've read this</span>
          </label>
        </section>

        <section id="modifying" class="section" data-section="modifying">
          <h2>Modifying Snowpark-optimized warehouse properties</h2>
          <p>Use <code>ALTER WAREHOUSE</code> to change warehouse properties, including warehouse type. You can change the warehouse type whether the warehouse is <strong>STARTED</strong> or <strong>SUSPENDED</strong>. If you suspend before changing <code>warehouse_type</code>, run:</p>
          <pre><code>ALTER WAREHOUSE snowpark_opt_wh SUSPEND;</code></pre>
          <p>Example: modify memory and CPU for a Snowpark-optimized warehouse:</p>
          <pre><code>ALTER WAREHOUSE so_warehouse SET
  RESOURCE_CONSTRAINT = 'MEMORY_1X_x86';</code></pre>
          <label class="section-done">
            <input type="checkbox" name="done" value="modifying" aria-label="Mark Modifying properties as complete" />
            <span>I've read this</span>
          </label>
        </section>

        <section id="billing" class="section" data-section="billing">
          <h2>Billing for Snowpark-optimized warehouses</h2>
          <p>For Snowpark-optimized warehouse credit consumption, see <strong>Table 1</strong> in the Snowflake Service Consumption Table.</p>
          <div class="callout tip">
            <p>For cost implications of changing <code>RESOURCE_CONSTRAINT</code> while a warehouse is running or suspended, see the considerations in Snowflake documentation.</p>
          </div>
          <p>For ML training with Snowpark Python stored procedures, see <strong>Training Machine Learning Models with Snowpark Python</strong> in Snowflake documentation.</p>
          <label class="section-done">
            <input type="checkbox" name="done" value="billing" aria-label="Mark Billing as complete" />
            <span>I've read this</span>
          </label>
        </section>

        <section id="regions" class="section" data-section="regions">
          <h2>Region availability</h2>
          <p>Snowpark-optimized warehouses are available in all regions across AWS, Azure, and Google Cloud.</p>
          <p>The 1 TB memory options are not currently available on Azure or GCP. On AWS, the 1 TB option is a preview feature.</p>
          <label class="section-done">
            <input type="checkbox" name="done" value="regions" aria-label="Mark Region availability as complete" />
            <span>I've read this</span>
          </label>
        </section>

        <footer class="guide-footer">
          <p>You've finished the Snowpark-optimized warehouses guide. <a href="index.html">All Virtual Warehouse guides</a></p>
          <p class="guide-footer-links"><a href="overview.html">Overview</a> · <a href="multi-cluster.html">Multi-cluster</a> · <a href="considerations.html">Considerations</a> · <a href="working-with-warehouses.html">Working with</a> · <a href="next-gen-warehouses.html">Gen2</a> · <a href="query-acceleration.html">Query Acceleration (QAS)</a> · <a href="monitoring-load.html">Monitoring load</a> · <a href="interactive-tables.html">Interactive tables</a> · <a href="example-workflow-equity-research.html">Example workflow</a></p>
        </footer>
      </article>
    </main>
  </div>

  <script src="../js/app.js"></script>
</body>
</html>
